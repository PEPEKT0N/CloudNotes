<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="CloudNotes.Desktop.Views.TagSelectionDialog"
        Title="Select Tags for Study"
        Width="450"
        Height="500"
        WindowStartupLocation="CenterOwner"
        CanResize="False">

    <Window.Styles>
        <Style Selector="CheckBox">
            <Setter Property="Foreground" Value="#333333"/>
        </Style>
        <Style Selector="CheckBox:unchecked /template/ Border">
            <Setter Property="Background" Value="#EEEEEE"/>
            <Setter Property="BorderBrush" Value="#555555"/>
        </Style>
    </Window.Styles>

    <Grid Margin="20" RowDefinitions="Auto, Auto, *, Auto, Auto, Auto">
        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
        <TextBlock Grid.Row="0"
                   Text="Select tags to study flashcards"
                   FontSize="16"
                   FontWeight="SemiBold"
                   Margin="0,0,0,15" />

        <!-- Ð˜Ð·Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸Ð¸ -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="10" Margin="0,0,0,15">
            <TextBlock Text="Favorites:"
                       VerticalAlignment="Center"
                       Foreground="#666666" />
            <ComboBox x:Name="FavoritesComboBox"
                      Width="200"
                      PlaceholderText="Select favorite..."
                      SelectionChanged="OnFavoriteSelected" />
            <Button x:Name="DeleteFavoriteButton"
                    Content="ðŸ—‘ï¸"
                    Width="32" Height="32"
                    ToolTip.Tip="Delete selected favorite"
                    Click="OnDeleteFavoriteClick"
                    IsEnabled="False" />
        </StackPanel>

        <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð²ÑÐµÑ… Ñ‚ÐµÐ³Ð¾Ð² -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="#CCCCCC"
                BorderThickness="1"
                CornerRadius="8"
                Padding="10">
            <ScrollViewer>
                <StackPanel x:Name="TagsPanel" Spacing="5">
                    <!-- Ð¢ÐµÐ³Ð¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ð¾ -->
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÐ³Ð¸ -->
        <StackPanel Grid.Row="3" Margin="0,15,0,0">
            <TextBlock Text="Selected tags:"
                       FontWeight="SemiBold"
                       Margin="0,0,0,8" />
            <Border Background="#E3F2FD"
                    CornerRadius="8"
                    Padding="10"
                    MinHeight="40">
                <ItemsControl x:Name="SelectedTagsControl">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Border>
        </StackPanel>

        <!-- Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ÐºÐ°Ðº Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" Spacing="10" Margin="0,15,0,0">
            <TextBox x:Name="FavoriteNameTextBox"
                     Width="250"
                     Watermark="Favorite name (e.g., Math + Hard)" />
            <Button Content="Save as Favorite"
                    Click="OnSaveFavoriteClick" />
        </StackPanel>

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ -->
        <StackPanel Grid.Row="5"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Spacing="10"
                    Margin="0,20,0,0">
            <Button Content="Cancel"
                    Width="100"
                    Click="OnCancelClick" />
            <Button x:Name="StartStudyButton"
                    Content="Start Study"
                    Width="120"
                    Background="#4CAF50"
                    Foreground="White"
                    FontWeight="SemiBold"
                    Click="OnStartStudyClick"
                    IsEnabled="False" />
        </StackPanel>
    </Grid>
</Window>
