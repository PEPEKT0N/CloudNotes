<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="CloudNotes.Desktop.Views.StudyDialog"
        Title="Study Mode"
        Width="500"
        Height="450"
        WindowStartupLocation="CenterOwner"
        CanResize="False">

    <Grid Margin="20" RowDefinitions="Auto, *, Auto, Auto, Auto">
        <!-- Прогресс и статус -->
        <StackPanel Grid.Row="0" HorizontalAlignment="Center" Margin="0,0,0,15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
                <TextBlock x:Name="ProgressText"
                           Text="Card 1 of 5"
                           FontSize="14"
                           Foreground="#666666" />
                <Border x:Name="StatusBadge"
                        CornerRadius="8"
                        Padding="8,2"
                        Background="#FFF3E0">
                    <TextBlock x:Name="StatusText"
                               Text="New"
                               FontSize="11"
                               FontWeight="SemiBold"
                               Foreground="#E65100" />
                </Border>
            </StackPanel>
        </StackPanel>

        <!-- Область карточки -->
        <Border Grid.Row="1"
                Background="#F8F8F8"
                CornerRadius="10"
                Padding="20">
            <Grid RowDefinitions="*, Auto, *">
                <!-- Вопрос -->
                <StackPanel Grid.Row="0" VerticalAlignment="Center">
                    <TextBlock Text="Question:"
                               FontSize="12"
                               Foreground="#888888"
                               Margin="0,0,0,5" />
                    <TextBlock x:Name="QuestionText"
                               Text="What is the capital of France?"
                               FontSize="18"
                               Foreground="#333333"
                               TextWrapping="Wrap"
                               TextAlignment="Center" />
                </StackPanel>

                <!-- Разделитель (виден только когда показан ответ) -->
                <Rectangle x:Name="Separator"
                           Grid.Row="1"
                           Height="1"
                           Fill="#DDDDDD"
                           Margin="0,15"
                           IsVisible="False" />

                <!-- Ответ (скрыт по умолчанию) -->
                <StackPanel x:Name="AnswerPanel"
                            Grid.Row="2"
                            VerticalAlignment="Center"
                            IsVisible="False">
                    <TextBlock Text="Answer:"
                               FontSize="12"
                               Foreground="#888888"
                               Margin="0,0,0,5" />
                    <TextBlock x:Name="AnswerText"
                               Text="Paris"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Foreground="#2E7D32"
                               TextWrapping="Wrap"
                               TextAlignment="Center" />
                </StackPanel>
            </Grid>
        </Border>

        <!-- Кнопка Show Answer -->
        <Button x:Name="ShowAnswerButton"
                Grid.Row="2"
                Content="Show Answer"
                HorizontalAlignment="Center"
                Padding="30,10"
                Margin="0,15,0,0"
                FontSize="16"
                Click="OnShowAnswerClick" />

        <!-- Панель оценки (видна после показа ответа) -->
        <StackPanel x:Name="RatingPanel"
                    Grid.Row="3"
                    HorizontalAlignment="Center"
                    Margin="0,15,0,0"
                    IsVisible="False">
            <TextBlock Text="How well did you answer?"
                       FontSize="13"
                       Foreground="#666666"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10" />
            <StackPanel Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center">
                <Button Content="1"
                        Width="40" Height="40"
                        FontSize="16"
                        FontWeight="Bold"
                        Foreground="White"
                        Background="#E53935"
                        Click="OnRatingClick"
                        Tag="1" />
                <Button Content="2"
                        Width="40" Height="40"
                        FontSize="16"
                        FontWeight="Bold"
                        Foreground="White"
                        Background="#FF9800"
                        Click="OnRatingClick"
                        Tag="2" />
                <Button Content="3"
                        Width="40" Height="40"
                        FontSize="16"
                        FontWeight="Bold"
                        Foreground="Black"
                        Background="#FFEB3B"
                        Click="OnRatingClick"
                        Tag="3" />
                <Button Content="4"
                        Width="40" Height="40"
                        FontSize="16"
                        FontWeight="Bold"
                        Foreground="White"
                        Background="#4CAF50"
                        Click="OnRatingClick"
                        Tag="4" />
                <Button Content="5"
                        Width="40" Height="40"
                        FontSize="16"
                        FontWeight="Bold"
                        Foreground="White"
                        Background="#9C27B0"
                        Click="OnRatingClick"
                        Tag="5" />
            </StackPanel>
        </StackPanel>

        <!-- Панель завершения сессии (после 10 карточек) -->
        <Border x:Name="SessionCompletePanel"
                Grid.Row="4"
                Background="#E8F5E9"
                CornerRadius="10"
                Padding="20"
                Margin="0,15,0,0"
                IsVisible="False">
            <StackPanel HorizontalAlignment="Center">
                <TextBlock x:Name="SessionStatsText"
                           Text="Session complete! 10 cards reviewed."
                           FontSize="16"
                           FontWeight="SemiBold"
                           Foreground="#2E7D32"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,15" />
                <StackPanel Orientation="Horizontal" Spacing="15" HorizontalAlignment="Center">
                    <Button Content="Continue (10 more)"
                            Padding="20,10"
                            FontSize="14"
                            Background="#4CAF50"
                            Foreground="White"
                            Click="OnContinueClick" />
                    <Button Content="Finish"
                            Padding="20,10"
                            FontSize="14"
                            Background="#2196F3"
                            Foreground="White"
                            Click="OnFinishClick" />
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
