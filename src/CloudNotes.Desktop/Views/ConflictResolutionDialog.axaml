<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="CloudNotes.Desktop.Views.ConflictResolutionDialog"
        Width="800"
        Height="600"
        WindowStartupLocation="CenterOwner"
        Title="Conflict Resolution - Note Sync">

    <Grid Margin="15" RowDefinitions="Auto,*,Auto">
        <!-- Header -->
        <TextBlock Grid.Row="0"
                   Text="This note has been modified on both your device and the server. Choose which version to keep:"
                   TextWrapping="Wrap"
                   Margin="0,0,0,15" />

        <!-- Content: Two columns for local and server versions -->
        <Grid Grid.Row="1" ColumnDefinitions="*,10,*" Margin="0,0,0,15">
            <!-- Local Version -->
            <Border Grid.Column="0"
                    BorderBrush="Gray"
                    BorderThickness="1"
                    Padding="10"
                    CornerRadius="5">
                <Grid RowDefinitions="Auto,*,Auto">
                    <TextBlock Grid.Row="0"
                               Text="Local Version"
                               FontWeight="Bold"
                               FontSize="14"
                               Margin="0,0,0,10" />
                    
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <StackPanel Spacing="10">
                            <StackPanel Spacing="5">
                                <TextBlock Text="Title:" FontWeight="SemiBold" />
                                <TextBlock x:Name="LocalTitleTextBlock"
                                           TextWrapping="Wrap" />
                            </StackPanel>
                            
                            <StackPanel Spacing="5">
                                <TextBlock Text="Content:" FontWeight="SemiBold" />
                                <TextBox x:Name="LocalContentTextBox"
                                         IsReadOnly="True"
                                         AcceptsReturn="True"
                                         TextWrapping="Wrap"
                                         MaxHeight="300"
                                         ScrollViewer.VerticalScrollBarVisibility="Auto" />
                            </StackPanel>
                            
                            <StackPanel Spacing="5">
                                <TextBlock Text="Last Updated:" FontWeight="SemiBold" />
                                <TextBlock x:Name="LocalUpdatedTextBlock" />
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <Button Grid.Row="2"
                            x:Name="UseLocalButton"
                            Content="Use Local Version"
                            HorizontalAlignment="Stretch"
                            Margin="0,10,0,0" />
                </Grid>
            </Border>

            <!-- Divider -->
            <TextBlock Grid.Column="1"
                       Text="VS"
                       FontSize="18"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center" />

            <!-- Server Version -->
            <Border Grid.Column="2"
                    BorderBrush="Gray"
                    BorderThickness="1"
                    Padding="10"
                    CornerRadius="5">
                <Grid RowDefinitions="Auto,*,Auto">
                    <TextBlock Grid.Row="0"
                               Text="Server Version"
                               FontWeight="Bold"
                               FontSize="14"
                               Margin="0,0,0,10" />
                    
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <StackPanel Spacing="10">
                            <StackPanel Spacing="5">
                                <TextBlock Text="Title:" FontWeight="SemiBold" />
                                <TextBlock x:Name="ServerTitleTextBlock"
                                           TextWrapping="Wrap" />
                            </StackPanel>
                            
                            <StackPanel Spacing="5">
                                <TextBlock Text="Content:" FontWeight="SemiBold" />
                                <TextBox x:Name="ServerContentTextBox"
                                         IsReadOnly="True"
                                         AcceptsReturn="True"
                                         TextWrapping="Wrap"
                                         MaxHeight="300"
                                         ScrollViewer.VerticalScrollBarVisibility="Auto" />
                            </StackPanel>
                            
                            <StackPanel Spacing="5">
                                <TextBlock Text="Last Updated:" FontWeight="SemiBold" />
                                <TextBlock x:Name="ServerUpdatedTextBlock" />
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <Button Grid.Row="2"
                            x:Name="UseServerButton"
                            Content="Use Server Version"
                            HorizontalAlignment="Stretch"
                            Margin="0,10,0,0" />
                </Grid>
            </Border>
        </Grid>

        <!-- Footer: Cancel button -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Spacing="10">
            <Button x:Name="CancelButton"
                    Content="Cancel"
                    IsCancel="True"
                    MinWidth="100" />
        </StackPanel>
    </Grid>
</Window>

